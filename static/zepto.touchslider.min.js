/**
* zepto touchSlider - 移动端轮播插件
* @version 2.0.1
* @author haibao <hhb219@163.com> <http://www.hehaibao.com/>
*/
(function(j){var n=0,h=0,e,m,r,q,d,l,k,c,f,g,p;methods={init:function(a){return this.each(function(){var s=j(this),b=s.data("touchSlider");if(typeof(b)==="undefined"){var o={box:"#sliderBox",srcArr:[],arrows:true,auto:true,autoTime:2000};b=j.extend({},o,a);s.data("touchSlider",b)}b=j.extend({},b,a);d=j(b.box);c=b.srcArr.length||4;f=d.offset().width;if(c>=1){e='<ul id="slider">';for(h=0;h<c;h++){g=b.srcArr[h].length==2?b.srcArr[h][0]:b.srcArr[h];p=b.srcArr[h].length==2?b.srcArr[h][1]:"javascript:;";e+='<li><a href="'+p+'"><img width="100%" src="'+g+'"/></a></li>'}e+="</ul>";d.append(e);l=d.children().first();k=l.children();l.css({width:c*f,height:"100%",overflow:"hidden"});k.css({width:f,height:"100%","float":"left"});if(b.arrows){m='<ol id="arrow">';for(h=0;h<c;h++){h==n?m+='<li class="active"></li>':m+="<li></li>"}m+="</ol>";j(this).append(m);j(this).find("#arrow li").on("tap click",function(){n=j(this).index();methods.r(b,"tap")})}if(b.auto){methods.c(b)}var i=util.toucher(document.getElementById("slider"));i.on("swipeLeft",function(){methods.r(b,"next")}).on("swipeRight",function(){methods.r(b,"prev")})}})},r:function(b,a){methods.c(b);if(a=="prev"){n--;if(n<0){n=c-1}}else{if(a=="next"){n++;if(n>=c){n=0}}}l.css({"-webkit-transition-duration":"400ms","-webkit-transform":"translate3D("+-(n*f)+"px,0,0)","transition-duration":"400ms",transform:"translate3D("+-(n*f)+"px,0,0)"});d.find("ol li").removeClass("active").eq(n).addClass("active")},c:function(a){clearInterval(r);clearTimeout(q);if(a.auto){q=setTimeout(function(){r=setInterval(function(){methods.r(a,"next")},a.autoTime)},a.autoTime)}}};j.fn.touchslider=function(a){if(methods[a]){return methods[a].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof a==="object"||!a){return methods.init.apply(this,arguments)}else{j.error("Error! Method"+a+"does not exist on zepto.touchslider！")}}}})(Zepto);